# Security Headers for CitizenAIR

# Add these to your web server configuration (Nginx, Apache, or hosting platform)

# Content Security Policy

add_header Content-Security-Policy "default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://services.arcgisonline.com; style-src 'self' 'unsafe-inline'; img-src 'self' data: https: blob:; font-src 'self' data:; connect-src 'self' https://services.arcgisonline.com https://api.citizenair.th wss:; media-src 'self'; object-src 'none'; frame-src 'none'; base-uri 'self'; form-action 'self';" always;

# X-Frame-Options

add_header X-Frame-Options "DENY" always;

# X-Content-Type-Options

add_header X-Content-Type-Options "nosniff" always;

# X-XSS-Protection

add_header X-XSS-Protection "1; mode=block" always;

# Referrer Policy

add_header Referrer-Policy "strict-origin-when-cross-origin" always;

# Permissions Policy

add_header Permissions-Policy "camera=(), microphone=(), geolocation=(self), gyroscope=(), magnetometer=(), payment=(), usb=()" always;

# Strict Transport Security (HTTPS only)

add_header Strict-Transport-Security "max-age=31536000; includeSubDomains; preload" always;

# Cache Control for static assets

location ~\* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
expires 1y;
add_header Cache-Control "public, immutable";
}

# Cache Control for data files

location ~\* \.(csv|json|geojson)$ {
expires 1h;
add_header Cache-Control "public, must-revalidate";
}

# No cache for HTML

location ~\* \.html$ {
expires -1;
add_header Cache-Control "no-cache, no-store, must-revalidate";
}
